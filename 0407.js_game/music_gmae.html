<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            text-align: center;
        }

        #screen {
            margin: auto;
            position: relative;
        }

        #board {
            margin: auto;
            width: 600px;
            height: 50px;
        }

        .scr {
            position: relative;
            width: 150px;
            height: 600px;
        }

        .btn {
            position: relative;
            width: 150px;
            height: 100px;
            text-align: center;
        }

        .faller {
            width: 150px;
            height: 20px;
            background: red;
            position: absolute;
            top: 0%;
        }

        /* @keyframes faller {
            from {
                top: 0%;
                height: 0px;
            }

            1% {
                top: 1%;
                height: 20px;
            }

            to {
                top: 100%;
                height: 20px;
            }
        } */
    </style>
</head>

<body>
    <table id="screen" border="1px">
        <tr>
            <td class='scr'>
            </td>
            <td class='scr'>
            </td>
            <td class='scr'>
            </td>
            <td class='scr'>
            </td>
            <td class='scr'>
            </td>
            <td class='scr'>
            </td>
        </tr>
        <tr>
            <td class='btn'>A</td>
            <td class='btn'>S</td>
            <td class='btn'>D</td>
            <td class='btn'>4</td>
            <td class='btn'>5</td>
            <td class='btn'>6</td>
        </tr>
        </tr>
    </table>
    <input type="button" value="START" id='start'><br>
    目前分數:<span id='score'></span>
    <hr>
    名人榜
    <table id='board' border="1">
        <tr>
            <td>名字</td>
            <td>分數</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
        </tr>
    </table>
    <script>
        const start = document.getElementById('start')
        const btns = document.getElementsByClassName('btn')
        const scrs = document.getElementsByClassName('scr')
        const fallers = document.getElementsByClassName('faller')
        const borad = document.getElementById('borad')
        const score = document.getElementById('score')
        const music = new Audio()
        let keyboard = ['A', 'S', 'D', 4, 5, 6]
        music.src = "./material/yay.mp3"
        let ingame = false

        j = 0
        start.onclick = () => {
            // music.play()
            // ingame = true
            // game()
            A()

            // start.disabled = true
        }

        // i = 0
        // j = 0
        // k = 0

        // function A() {
        //     scrs[0].insertAdjacentHTML('beforeend', ` <div class="faller"></div>`)

        //     let count = parseInt(scrs[0].childElementCount)
        //     console.log(count)

        //     if (count == 1) {
        //         const slide = setInterval(() => {
        //             fallers[0].style.top = `${i}%`
        //             i++
        //             let top = parseInt(fallers[0].style.top)

        //             if (top >= 100) {
        //                 clearInterval(slide)
        //                 fallers[0].remove()
        //                 i = 0
        //             }
        //         }, 500)
        //     }
        //     if (count == 2) {
        //         const slide = setInterval(() => {
        //             fallers[1].style.top = `${j}%`
        //             j++
        //             let top = parseInt(fallers[1].style.top)

        //             if (top >= 100) {
        //                 clearInterval(slide)
        //                 fallers[0].remove()
        //                 j = 0
        //             }
        //         }, 500)
        //     }
        //     if (count == 3) {
        //         const slide = setInterval(() => {
        //             fallers[2].style.top = `${k}%`
        //             k++
        //             let top = parseInt(fallers[2].style.top)

        //             if (top >= 100) {
        //                 clearInterval(slide)
        //                 fallers[0].remove()
        //                 k = 0
        //             }
        //         }, 500)
        //     }
        // }


        // const A = () => {
        //     scrs[0].insertAdjacentHTML('beforeend', ` <div class="faller" id="A${j}"></div>`)

        //     let x = document.getElementById(`A${j}`)

        //     let i = 0

        //     var timer = setInterval(() => {
        //         console.log(x)
        //         x.style.top = `${i}%`
        //         i++
        //         // let top = parseInt(x.style.top)
        //         // console.log(top)
        //         if (i >= 100) {
        //             clearInterval(timer)
        //             x.remove()
        //         }
        //         j++
        //     }, 100)
        // }



        const A = () => {

            i = 0
            scrs[0].insertAdjacentHTML('beforeend', ` <div class="faller" id="A${j}"></div>`)

            let x = document.getElementById(`A${j}`)

            j++

            setInterval(() => {
                console.log(x)
                x.style.top = `${i}%`
                i++
                let top = parseInt(x.style.top)
                console.log(top)
                if (top >= 100) {
                    // clearInterval()
                    x.remove()
                }
            }, 1000)
        }




    </script>
</body>

</html>